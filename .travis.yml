language: java
jdk: openjdk14
env:
  global:
  - secure: qitn7oNqvINewcazl/kWt32EuQqnLwLsBwDSw0dTBk6Bu1Kqoo9/ueMzBGrrvfpDCJFdZuZ8D+Jy/Kis3l1kTxxZAYh0rY7pPoLhq84G/ZbOuX0ChCajvlR8HsiXA4gQy4PwMhfwjxRPbPnR0baxi7hBHKa3f+U90ZZN/twEDwlkgqJgtJpxkViXLjeBDuKAaCNdqNADlcXo6ihG2teIaWXosdkxSq/Q/GM0HaspgpwXQ6oVZZBXYlueAe9iesDqe4OQYrjRphPXo5SA1oqrUfsI2ZwNcvcT8SKLkhR5UDrjBaNQkt3MLFXg1996HYdhg4aRSjDI/amCeyuY7yn75d6CL3aKBvgQCzy59SIxd+GnC+nWjQuo/i/7OPxomohdhd/h7mZKsUHDRkmIkF/OHAXs+IGxLTs0YbB7Dg4mNEUnh/Ks6/uXeeYkaQgg71ZPoCcZFeyK906Jc7owy0n6MXPocaXNQ+cpidCXCxMToGZr0uuCCLxQTrx2jpiGsrcMAFqUa2Rw17qbwvfk+svEqUxu2G8bGaB2Pfxo8nV++qaB6Rd2L6NTfKs1dbdfa+O7gPDcd5Rs1gScdGgw7GtRtCnxp2JYE3OK6YxVH94WfvH7WfCBkbNOt9L/+jtSHfmEdydmcDxOKlohGA+ZWxxMISSbv4XNg4IDttgd9IHMNa4=
  - secure: FIu+vg2f01wNmz2omvzgIl1ZMqaQBp4ZaEdJSubrUI/fceDT5Mu6Ciav9VGPsi3PecXXRsDoQj8nU0wz7fsekvQsfPGVbKyhhcDgfyMWjlupvgsYyiwgTzQ/Bocy8piNpzBW5IYM+Tg2IEzkJ0Dh4O69+7Ew8RKEkKoB4UtHCf4UdIZzFG+XtKBoPLPLYNXJis0u6N85jAFu+ie9GSOMZim8ALsvVcE8C78jirSAwkEAU1WyqFyiOtNgtst1pWmi02IGs775PZy4Bye4WjvtGKyyp2zOS9x1f/C/qek1E/b8mt0CtNKredCuq3PsFSr5BG+CKzNDjgcRAhwfzRDuJ5mU1kB0R6cdDoLZv0D/iYE7qHXMt5Vk1yT8iv6eZ2fk4voUrDJxgHn/4zPeoBfeS4ptNFPYGtJFJYB8PhNPxLgWKXcWHMetfp/FPxjn7Zyi7u0AkBoeUnZ+BMN9+epZCBoOYMkHyNnDrK2gU6jh7Yy31aIpkq4qOGscdOQlZj7vz+EdY2xZITArslFVij/QFtDxfXYssgRErHo5cW/d8gnDTFgsoc5r/ZXke28vJanvQDvrbpGeJRVmOQZuUJGjHfv3eGifYB/hUqv4L0goRFtcMtDunahbr+DpK85g/mBSBDYVN9w8sGI+/qzBj2Le3Gxbl/6E0UXhi/blNRDOUzM=
  - secure: LC53Ol/pzTyuMwBqigBtolwnPP+G7fH1Nv2f66E/P151A8css27FF4hZ4oUHLrsLFg6U439LgL91A6nf8r2i++X5cG2Y4SFLitrf6cvn6A6FiS38BRmQ6gt+lRGOVnD+rEA1Jpq8Taz5bkaJzRe9HMJ4CV+fcMmmq+SrKxX4V1FLFncXa25ZCMF5usTIQYTTGx4ferMVXFlTNBbaUaCsRyCkbjjUDYQ03Kw73y8utZtJubqS6/l4EjwEU5dVkq+qkFcTF4IKI70W87Z9rGaxWkHdZCkjs0W8wjtRJ9GyaBAT5NEA9jwqg60o4tNL6ZwkN/5Z4CvfJaSPRJkxQl3cNb50TQR0WzrIPxYh57jsQpOtZKZhmEA8Tbxep4uFxx1zyx5+6n7U0AWMdLka9Fa+LaofbJTHxrYvPubMaK1eO7Gjk0Gb09LG0BvrtxklKLbDkt+pYaaqSyfKXs4qrJUycKy1NIGlinplZTVOkEEXpWabyO0qpLm+8w2q2jKJkn7P1dcyG9MSDvrTX4XioCB9jbP6dhMEDEheawf/rSllz5AFaRCNZSwLFhy/GqF5Ig8nDLGCPpA6a71j2//HEMgjg97fhGxTQFmz2b+luORlHCw0MWrf8HhMq5q7QED/QwabTltus5nQzff0QZI3n9SRTcE7ES468/suNuIY98s8OhQ=
  - secure: QJlfuwyz2VyuA2CN5Oy0e+JP6BTiRrusyob91cdZyMeecGU43aBuqUwOu4SCXpCkqmrBBrjy+3GoBcc236NlRLNzgiB2mek9MdcXvuRhBBxD5AJ3NzH3xNLenpMR/D8VCfSmmUjpO1pQuPkmjkcRBP/v7QHlh5IqmHR0lbbFVdHPDJcl2OyhmBzBhbMsFX9yaHwnV2WS8IVcYx+P3zqAtXu7VXSfOMVQS6oKeQ2z84YJ3K+rzo7ETs02+nTQ1r+mM0OA7UzyrcG3CX/B5jSGDJsE+ISemAe92lKAEOyC4HNNlwojBXR2AyH1ipBVyjFJV5h6BTINj1ZFn0JoEycz8mOg5RWTu0Al7cYbhJtzVnPUud2aO7Rf59y0vZnz9bNVuR+EV3yOTINnXgoZz8imMN2g7TfKRySwKRVPZyi/PDmEJwplySKfPPyOh+ZC44YqS0iDpNIyajkJo4insKAmdubSmF6dmc0fzSdYHZE41a2wXCOtaO3zp2506dWztK132qqOQL1GtYxBRYwWu7JpCeay1FpCNzBqUidGd+Vg9DJWTf/YmFJZ84RYxFwI5MCrCjm/G9vwfpUljX0mvcvxFg13flLBW2D89MEGPKZ1LCCeva2g5czR2s0H09LKHS50W18gRii0wB4AdHdH7KT/RPHV0jxY1lJqqvfMhaJUDAA=
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -rf $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
  - "$HOME/.gradle/mongo"
deploy:
  provider: script
  script: "./gradlew publish -Dsigning.keyId=$SIGNING_KEY_ID -Dsigning.secretKeyRingFile=$SIGNING_SECRET_KEY_FILE"
  skip_cleanup: true
  on:
    tags: true
before_install:
- openssl aes-256-cbc -K $encrypted_2e6b62dd1b86_key -iv $encrypted_2e6b62dd1b86_iv
  -in key.gpg.enc -out key.gpg -d
